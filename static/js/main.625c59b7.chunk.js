(this.webpackJsonphighspot=this.webpackJsonphighspot||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/loading.750fc7f7.gif"},25:function(e,t,a){e.exports=a.p+"static/media/esl-logo-latest.b9d0a541.png"},26:function(e,t,a){e.exports=a.p+"static/media/elder-scrolls-bg.21f88751.jpg"},29:function(e,t,a){e.exports=a(61)},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),i=a.n(c),l=a(5),o=a(6),s=a(8),d=a(7),u=a(3),p=a(23),m=a.n(p);function g(e){return function(t){return t({type:"API_START"}),m.a.get(e).then((function(e){var a=e.data;t(function(e){return{type:"SET_CARDS",payload:e}}(a))})).finally((function(){t({type:"API_END"})}))}}a(57);var h=function(e){var t=e.name,a=e.imageUrl,n=e.text,c=e.type,i=e.set,l=e.rarity,o=i.name;return r.a.createElement("div",{className:"card ".concat(l)},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:a,alt:t})),r.a.createElement("div",{className:"card-info"},r.a.createElement("div",{className:"card-name"},t),r.a.createElement("p",null,"Type: ",c),r.a.createElement("p",null,"Set: ",o),r.a.createElement("p",null,n)))},f=a(24),v=a.n(f),E=(a(58),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleScroll=function(t){var a=document.getElementById("results");e.isBottom(a)&&e.fetchNextPage()},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchCards("https://api.elderscrollslegends.io/v1/cards?pageSize=20&page=1"),window.addEventListener("scroll",this.handleScroll,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"fetchNextPage",value:function(){var e=this.props,t=e.next,a=e.isLoadingData;"LAST_PAGE"===t||a||this.props.fetchCards(t)}},{key:"isBottom",value:function(e){return e.getBoundingClientRect().bottom<=window.innerHeight}},{key:"render",value:function(){var e=this.props,t=e.cards,a=e.isLoadingData,n=0===t.length;return r.a.createElement("div",{id:"results"},n&&!a?r.a.createElement("div",{className:"no-results"},"No Results"):t.map((function(e,t){return r.a.createElement(h,Object.assign({key:t},e))})),a&&r.a.createElement("div",{className:"loading"},r.a.createElement("img",{src:v.a,alt:"loading"})))}}]),a}(n.Component)),b=Object(u.b)((function(e){var t=e.cardReducer;return{cards:t.cards,isLoadingData:t.isLoadingData,next:t.next}}),{fetchCards:g})(E),y=(a(59),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"handleSearchChange",value:function(e){var t=e.target.value.replace(/[^0-9a-z]/gi,"");this.props.seachUpdate(t)}},{key:"render",value:function(){return r.a.createElement("div",{id:"search-box"},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{for:"search-input"},"Search "),r.a.createElement("input",{id:"search-input",onChange:this.handleSearchChange.bind(this)})))}}]),a}(n.Component)),S=Object(u.b)((function(e){var t=e.data;return{data:void 0===t?{}:t}}),{seachUpdate:function(e){return function(t){var a=e.length>0?"https://api.elderscrollslegends.io/v1/cards?pageSize=20&name="+e:"https://api.elderscrollslegends.io/v1/cards?pageSize=20";return t({type:"CLEAR_CARDS"}),t(g(a))}}})(y),j=a(25),O=a.n(j),x=a(26),A=a.n(x),w=(a(60),function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"bg-container"},r.a.createElement("img",{src:A.a,alt:"Elder Scrolls background wallpaper"})),r.a.createElement("div",{id:"app-content"},r.a.createElement("div",{id:"logo"},r.a.createElement("img",{src:O.a,alt:"Elder Scrolls Legends Logo"})),r.a.createElement(S,null),r.a.createElement(b,null)))}),C=a(2),k=a(9),L=a(28),D=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cards:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CARDS":var n=a.payload.cards,r=t;return a.payload._links&&a.payload._links.next?r.next=a.payload._links.next:r.next="LAST_PAGE",(e=r.cards).push.apply(e,Object(L.a)(n)),r;case"CLEAR_CARDS":return Object(k.a)({},t,{cards:[]});case"API_START":return Object(k.a)({},t,{isLoadingData:!0});case"API_END":return Object(k.a)({},t,{isLoadingData:!1});default:return t}},_=Object(C.c)({cardReducer:D}),N=a(27),R=Object(C.e)(_,Object(C.d)(Object(C.a)(N.a),window.devToolsExtension?window.devToolsExtension():function(e){return e}));i.a.render(r.a.createElement(u.a,{store:R},r.a.createElement(w,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.625c59b7.chunk.js.map